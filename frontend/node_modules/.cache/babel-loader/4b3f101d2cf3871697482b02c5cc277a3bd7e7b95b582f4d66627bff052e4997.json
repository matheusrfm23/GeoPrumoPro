{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mathe\\\\Desktop\\\\GeoPrumoPro\\\\frontend\\\\src\\\\components\\\\ManualAdd\\\\ManualAdd.jsx\",\n  _s = $RefreshSig$();\n// geoprumo/frontend/src/components/ManualAdd/ManualAdd.jsx\n\nimport React, { useState, useEffect, useCallback } from 'react';\nimport { autocompleteAddress } from '../../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction ManualAdd({\n  onAddPoint,\n  isLoading\n}) {\n  _s();\n  const [inputValue, setInputValue] = useState('');\n  const [suggestions, setSuggestions] = useState([]);\n\n  // Função para buscar sugestões (com debounce)\n  const fetchSuggestions = useCallback(query => {\n    autocompleteAddress(query).then(setSuggestions);\n  }, []);\n\n  // Efeito para chamar a busca após o usuário parar de digitar\n  useEffect(() => {\n    if (inputValue.length < 3) {\n      setSuggestions([]);\n      return;\n    }\n    // Debounce: espera 300ms antes de chamar a API\n    const handler = setTimeout(() => {\n      fetchSuggestions(inputValue);\n    }, 300);\n    // Limpa o timeout se o usuário continuar digitando\n    return () => clearTimeout(handler);\n  }, [inputValue, fetchSuggestions]);\n  const handleAddClick = () => {\n    if (inputValue.trim()) {\n      onAddPoint(inputValue);\n      setInputValue('');\n      setSuggestions([]);\n    }\n  };\n  const handleSuggestionClick = suggestion => {\n    setInputValue(suggestion);\n    setSuggestions([]);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-4 relative\",\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"manual-add-input\",\n      className: \"block text-sm font-medium text-gray-700 mb-1\",\n      children: \"Adicionar Ponto por Endere\\xE7o, CEP ou Coordenadas\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex space-x-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"manual-add-input\",\n        value: inputValue,\n        onChange: e => setInputValue(e.target.value),\n        placeholder: \"Ex: 30130-010 ou Pra\\xE7a Sete, BH\",\n        className: \"flex-grow p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\",\n        disabled: isLoading,\n        autoComplete: \"off\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAddClick,\n        disabled: isLoading || !inputValue.trim(),\n        className: \"bg-indigo-600 text-white font-semibold py-2 px-4 rounded-md hover:bg-indigo-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed\",\n        children: isLoading ? '...' : 'Adicionar'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), suggestions.length > 0 && /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 shadow-lg max-h-48 overflow-y-auto\",\n      children: suggestions.map((s, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n        onClick: () => handleSuggestionClick(s),\n        className: \"p-2 hover:bg-gray-100 cursor-pointer text-sm\",\n        children: s\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s(ManualAdd, \"nv5yN9OBRAqhblhKh/Ools7eSJU=\");\n_c = ManualAdd;\nexport default ManualAdd;\nvar _c;\n$RefreshReg$(_c, \"ManualAdd\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","autocompleteAddress","jsxDEV","_jsxDEV","ManualAdd","onAddPoint","isLoading","_s","inputValue","setInputValue","suggestions","setSuggestions","fetchSuggestions","query","then","length","handler","setTimeout","clearTimeout","handleAddClick","trim","handleSuggestionClick","suggestion","className","children","htmlFor","fileName","_jsxFileName","lineNumber","columnNumber","type","id","value","onChange","e","target","placeholder","disabled","autoComplete","onClick","map","s","i","_c","$RefreshReg$"],"sources":["C:/Users/mathe/Desktop/GeoPrumoPro/frontend/src/components/ManualAdd/ManualAdd.jsx"],"sourcesContent":["// geoprumo/frontend/src/components/ManualAdd/ManualAdd.jsx\r\n\r\nimport React, { useState, useEffect, useCallback } from 'react';\r\nimport { autocompleteAddress } from '../../services/api';\r\n\r\nfunction ManualAdd({ onAddPoint, isLoading }) {\r\n  const [inputValue, setInputValue] = useState('');\r\n  const [suggestions, setSuggestions] = useState([]);\r\n\r\n  // Função para buscar sugestões (com debounce)\r\n  const fetchSuggestions = useCallback((query) => {\r\n    autocompleteAddress(query).then(setSuggestions);\r\n  }, []);\r\n\r\n  // Efeito para chamar a busca após o usuário parar de digitar\r\n  useEffect(() => {\r\n    if (inputValue.length < 3) {\r\n      setSuggestions([]);\r\n      return;\r\n    }\r\n    // Debounce: espera 300ms antes de chamar a API\r\n    const handler = setTimeout(() => {\r\n      fetchSuggestions(inputValue);\r\n    }, 300);\r\n    // Limpa o timeout se o usuário continuar digitando\r\n    return () => clearTimeout(handler);\r\n  }, [inputValue, fetchSuggestions]);\r\n\r\n  const handleAddClick = () => {\r\n    if (inputValue.trim()) {\r\n      onAddPoint(inputValue);\r\n      setInputValue('');\r\n      setSuggestions([]);\r\n    }\r\n  };\r\n\r\n  const handleSuggestionClick = (suggestion) => {\r\n    setInputValue(suggestion);\r\n    setSuggestions([]);\r\n  };\r\n\r\n  return (\r\n    <div className=\"mt-4 relative\">\r\n      <label htmlFor=\"manual-add-input\" className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n        Adicionar Ponto por Endereço, CEP ou Coordenadas\r\n      </label>\r\n      <div className=\"flex space-x-2\">\r\n        <input\r\n          type=\"text\"\r\n          id=\"manual-add-input\"\r\n          value={inputValue}\r\n          onChange={(e) => setInputValue(e.target.value)}\r\n          placeholder=\"Ex: 30130-010 ou Praça Sete, BH\"\r\n          className=\"flex-grow p-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500\"\r\n          disabled={isLoading}\r\n          autoComplete=\"off\"\r\n        />\r\n        <button\r\n          onClick={handleAddClick}\r\n          disabled={isLoading || !inputValue.trim()}\r\n          className=\"bg-indigo-600 text-white font-semibold py-2 px-4 rounded-md hover:bg-indigo-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed\"\r\n        >\r\n          {isLoading ? '...' : 'Adicionar'}\r\n        </button>\r\n      </div>\r\n      \r\n      {/* Lista de Sugestões */}\r\n      {suggestions.length > 0 && (\r\n        <ul className=\"absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 shadow-lg max-h-48 overflow-y-auto\">\r\n          {suggestions.map((s, i) => (\r\n            <li\r\n              key={i}\r\n              onClick={() => handleSuggestionClick(s)}\r\n              className=\"p-2 hover:bg-gray-100 cursor-pointer text-sm\"\r\n            >\r\n              {s}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ManualAdd;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}